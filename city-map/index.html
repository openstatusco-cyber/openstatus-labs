<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OpenStatus – Love Your City</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Poppins", sans-serif;
      background: #ffffff;
      color: #232323;
      min-height: 100vh;
    }

    .hero {
      position: relative;
      width: 100%;
      height: 100vh; /* full viewport hero */
      overflow: hidden;
    }

    /* MAP BACKGROUND */
    #map {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    /* Soft gradient overlay so text is readable */
    .overlay-gradient {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0% 0%, rgba(255,255,255,0.9), transparent 50%),
                  linear-gradient(to right, rgba(255,255,255,0.96) 0%, rgba(255,255,255,0.8) 38%, rgba(255,255,255,0) 70%);
      pointer-events: none;
      z-index: 1;
    }

    /* CONTENT ON TOP OF MAP */
    .hero-inner {
      position: relative;
      z-index: 2;
      height: 100%;
      max-width: 1180px;
      margin: 0 auto;
      padding: 20px 20px 28px;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
    }

    @media (max-width: 900px) {
      .hero-inner {
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        padding: 18px 14px 22px;
      }
    }

    /* LEFT TEXT BLOCK */
    .text-block {
      max-width: 480px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,0.9);
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 10px;
    }

    .pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #74a36d;
      box-shadow: 0 0 0 3px rgba(116,163,109,0.25);
    }

    .headline {
      font-size: 2.2rem;
      line-height: 1.1;
      margin-bottom: 8px;
      min-height: 2.6em; /* space for typewriter line */
    }

    .headline span.city {
      color: #74a36d;
    }

    .subcopy {
      font-size: 0.96rem;
      color: #444;
      margin-bottom: 10px;
    }

    .city-line {
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 14px;
    }

    .buttons-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .btn-store {
      border-radius: 999px;
      border: 1px solid #232323;
      padding: 10px 18px;
      min-width: 190px;
      text-align: center;
      font-size: 0.9rem;
      font-weight: 500;
      background: #ffffff;
      color: #232323;
      text-decoration: none;
      cursor: pointer;
      transition: background 0.15s ease, color 0.15s ease;
    }

    .btn-store:hover {
      background: #232323;
      color: #ffffff;
    }

    .footnote {
      margin-top: 6px;
      font-size: 0.74rem;
      color: #777;
    }

    @media (max-width: 900px) {
      .headline {
        font-size: 1.8rem;
      }
      .text-block {
        max-width: 100%;
      }
    }

    /* RIGHT: FLOATING PHONE OVER MAP */
    .phone-block {
      position: relative;
      flex: 0 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }

    .phone-wrapper {
      position: relative;
      width: min(280px, 65vw);
      animation: phoneFloat 8s ease-in-out infinite;
      transform-origin: center center;
    }

    .phone-shadow {
      position: absolute;
      width: 70%;
      height: 18px;
      background: rgba(0,0,0,0.26);
      filter: blur(12px);
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 999px;
      z-index: -1;
      animation: shadowSquish 8s ease-in-out infinite;
    }

    .phone-shell {
      width: 100%;
      aspect-ratio: 9 / 18;
      border-radius: 40px;
      background: #050505;
      padding: 8px;
      box-shadow:
        0 18px 40px rgba(0,0,0,0.6),
        0 0 0 1px rgba(255,255,255,0.08);
      display: flex;
      align-items: stretch;
      justify-content: center;
    }

    .phone-inner {
      width: 100%;
      border-radius: 30px;
      overflow: hidden;
      position: relative;
      background: #000;
      box-shadow: 0 0 0 1px rgba(255,255,255,0.06);
    }

    .island {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 110px;
      height: 28px;
      border-radius: 999px;
      background: rgba(0,0,0,0.92);
      z-index: 5;
    }

    .phone-screen {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
      object-position: center 40px; /* move screenshot down a bit */
      transition: opacity 0.6s ease-in-out;
    }

    .phone-screen.fade-out { opacity: 0; }
    .phone-screen.fade-in  { opacity: 1; }

    /* Tiny bubble near phone */
    .phone-badge {
      position: absolute;
      bottom: -12px;
      right: -8px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.96);
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
      font-size: 0.76rem;
      display: flex;
      align-items: center;
      gap: 6px;
      pointer-events: auto;
    }

    .phone-badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #74a36d;
    }

    @media (max-width: 900px) {
      .hero-inner {
        align-items: flex-start;
      }
      .phone-block {
        width: 100%;
        justify-content: center;
        margin-top: 10px;
      }
      .phone-wrapper {
        width: 56vw;
        max-width: 260px;
      }
      .phone-badge {
        bottom: -10px;
        right: 8px;
      }
    }

    /* Animations */
    @keyframes phoneFloat {
      0%   { transform: translateY(0px) rotate(0deg); }
      25%  { transform: translateY(-7px) rotate(-0.45deg); }
      50%  { transform: translateY(-3px) rotate(0.35deg); }
      75%  { transform: translateY(-8px) rotate(-0.3deg); }
      100% { transform: translateY(0px) rotate(0deg); }
    }

    @keyframes shadowSquish {
      0%   { transform: translateX(-50%) scaleX(1); opacity: 0.9; }
      25%  { transform: translateX(-50%) scaleX(0.93); opacity: 0.82; }
      50%  { transform: translateX(-50%) scaleX(0.97); opacity: 0.86; }
      75%  { transform: translateX(-50%) scaleX(0.9); opacity: 0.8; }
      100% { transform: translateX(-50%) scaleX(1); opacity: 0.9; }
    }
  </style>
</head>
<body>
  <section class="hero">
    <div id="map"></div>
    <div class="overlay-gradient"></div>

    <div class="hero-inner">
      <!-- LEFT: TEXT -->
      <div class="text-block">
        <div class="pill">
          <span class="pill-dot"></span>
          Built for local explorers & small businesses
        </div>

        <h1 class="headline" id="headline">
          Hey, we love your city.
        </h1>

        <p class="subcopy">
          OpenStatus shows live updates from small businesses in your area – hours, last-minute changes,
          pop-ups, and more – so you always know what’s open before you go.
        </p>

        <p class="city-line" id="cityLine">
          We’ll use your location to find great spots near you.
        </p>

        <div class="buttons-row">
          <a href="#" class="btn-store">Google Play Store</a>
          <a href="#" class="btn-store">Apple App Store</a>
        </div>

        <p class="footnote">
          Store links are placeholders – swap them for your real download URLs when you’re ready.
        </p>
      </div>

      <!-- RIGHT: FLOATING PHONE OVER MAP -->
      <div class="phone-block">
        <div class="phone-wrapper">
          <div class="phone-shadow"></div>
          <div class="phone-shell">
            <div class="phone-inner">
              <div class="island"></div>
              <img
                id="phoneScreen"
                src="../IMG_8313.PNG"
                alt="OpenStatus screen"
                class="phone-screen"
              />
            </div>
          </div>
          <div class="phone-badge">
            <span class="phone-badge-dot"></span>
            Live view of your city
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // ---------- PHONE SLIDESHOW ----------
    const images = ["../IMG_8313.PNG", "../IMG_8314.PNG"];
    let index = 0;
    const screen = document.getElementById("phoneScreen");

    function swapScreen() {
      index = (index + 1) % images.length;
      screen.classList.remove("fade-in");
      screen.classList.add("fade-out");

      setTimeout(() => {
        screen.src = images[index];
        screen.classList.remove("fade-out");
        screen.classList.add("fade-in");
      }, 260);
    }

    screen.classList.add("fade-in");
    setInterval(swapScreen, 3500);

    // ---------- MAP + GEO + CITY NAME ----------
    let map;
    let geocoder;

    function typeWriter(text) {
      const el = document.getElementById("headline");
      el.textContent = "";
      let i = 0;

      function tick() {
        if (i < text.length) {
          el.textContent += text.charAt(i);
          i++;
          setTimeout(tick, 45);
        }
      }
      tick();
    }

    function initMap() {
      const defaultCenter = { lat: 35.9253, lng: -86.8689 };

      map = new google.maps.Map(document.getElementById("map"), {
        center: defaultCenter,
        zoom: 5,
        disableDefaultUI: true,
        styles: [
          {
            featureType: "all",
            elementType: "geometry",
            stylers: [{ color: "#F3F2F2" }]
          },
          {
            featureType: "road",
            elementType: "geometry",
            stylers: [{ color: "#ffffff" }]
          },
          {
            featureType: "water",
            elementType: "geometry",
            stylers: [{ color: "#d2e3fc" }]
          }
        ]
      });

      geocoder = new google.maps.Geocoder();

      if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const coords = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            centerMapOnUser(coords);
            reverseGeocode(coords);
          },
          () => {
            typeWriter("Hey, we love your city.");
          }
        );
      } else {
        typeWriter("Hey, we love your city.");
      }
    }

    function centerMapOnUser(coords) {
      map.setZoom(12);
      map.panTo(coords);

      new google.maps.Marker({
        position: coords,
        map,
        title: "You’re here",
        icon: {
          path: google.maps.SymbolPath.CIRCLE,
          scale: 8,
          fillColor: "#74a36d",
          fillOpacity: 1,
          strokeWeight: 2,
          strokeColor: "#ffffff"
        }
      });
    }

    function reverseGeocode(coords) {
      if (!geocoder) return;

      geocoder.geocode({ location: coords }, (results, status) => {
        if (status === "OK" && results && results[0]) {
          let city = "";
          let state = "";
          const comps = results[0].address_components;

          comps.forEach((c) => {
            if (c.types.includes("locality")) city = c.long_name;
            if (c.types.includes("administrative_area_level_1")) state = c.short_name;
          });

          const cityState = city && state ? `${city}, ${state}` : city || state || "your area";

          document.getElementById("cityLine").textContent =
            `Right now we’re looking around ${cityState} for small businesses.`;

          typeWriter(`Hey, we love your city, ${cityState}.`);
        } else {
          typeWriter("Hey, we love your city.");
        }
      });
    }
  </script>

  <!-- Google Maps JS with your key -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBF7OU8d3VUhHYElrNxCnnaTXnTHRsPnz0&callback=initMap" async defer></script>
</body>
</html>

